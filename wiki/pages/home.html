{% extends "layout-home.html" %}

{% block title %}Home{% endblock %}
{% block lead %}<b>Welcome to iGEM 2024!</b> Your team has been approved and you are ready to start the iGEM season!{% endblock %}

{% block page_content %}
 <!-- 主体部分 -->
 <div class="container">
    <!-- page1 -->
    <div class="page1">
        <div class="logo">
            <img src="https://static.igem.wiki/teams/5136/homeimg/witch.png" alt="" style="height: 70vh;position: relative;top: 25vh;">
            <img src="https://static.igem.wiki/teams/5136/homeimg/reparo.png" alt="" style="height: 30vh;position: relative; top:10vh;">
        </div>
    </div>
    <div class="page2">
        <div>
            <div class="words1" style="top: 10vh;width: 40%;position: relative;left: 15%;">
                <p>
                    The climate crisis is having a dangerous and widespread impact on the natural world. Rising emissions of greenhouse gases (GHGs) are the main cause of global climate change. 
                </p>
                <br>
                <p>
                    According to statistics, <span class="emphasize">54 billion</span> tons of carbon dioxide are emitted globally every year, with a  concentration <span class="emphasize">50 percent</span> higher than the pre-industrial era.
                </p>
            </div>
            <img src="https://static.igem.wiki/teams/5136/homeimg/earth.png" alt="" style="height: 70vh;position: relative;left: 60%;top: -50vh;" class="earth">
        </div>

        <div class="gas1" style="z-index: 51;">
            <img src="https://static.igem.wiki/teams/5136/homeimg/co2.png" alt="" style="height: 10vh;position: relative;z-index: 51;top: -50vh;left: 60%;" class="co2 gas-animation">
            <img src="https://static.igem.wiki/teams/5136/homeimg/o2.png" alt="" style="height: 10vh;z-index: 52;position: relative;left: 10%;top: -20vh;"class="o2 gas-animation">
            <img src="https://static.igem.wiki/teams/5136/homeimg/smoke.png" alt=""style="height: 20vh;position: relative;top: -55vh;left: 40%;z-index: 50;"class="smoke gas-animation">
        </div>

        <div class="forest" style="z-index: 50;">
            <img src="https://static.igem.wiki/teams/5136/homeimg/forest.png" alt="" id="slideforest" style="height: 80vh;position: relative;top: -60vh;max-width: 55%;" >
            <div class="words2" style="position: relative;width: 40%;top: -125vh;left: 55%;">
                <p>
                    In particular, the average annual temperature in 2023 is <span class="emphasize">1.45°C</span> above pre-industrial levels (1850-1900), and global sea levels are rising at an alarming rate of <span class="emphasize">3.1 mm</span> per year on average.
                </p>
                <br>
                <p>
                    In this crisis, trees play a crucial role - they are carbon sinks, absorbing carbon dioxide and mitigating the greenhouse effect.
                </p>
            </div>
        </div>
        <div class="wood" >
            <div class="words3" style="width: 25%;position: relative;left: 15vw;top: -90vh;">
                <p>
                    However, nearly <span class="emphasize">13 million</span> hectares of forests are destroyed each year as a result of human activity.
                </p>
            </div>
            <img src="https://static.igem.wiki/teams/5136/homeimg/wood.png" alt="" style="position: relative;max-width: 60%;left: 40%;top: -130vh;">
            <div class="co2container">
                <img src="https://static.igem.wiki/teams/5136/homeimg/co2.png" alt="" id="center-image">
            </div>
        </div>
        <div class="paper">
            <img src="https://static.igem.wiki/teams/5136/homeimg/paper.png" alt="" style="max-height: 80vh;position: relative;top: -200vh;" >
            <div class="words4" style="width: 45%;position: relative;top: -250vh;left: 50%;">
                <p>
                    As one of the important consumer for forest resources, the demand for wood in the paper industry is exacerbating global climate change. Facing such a grim reality, we feel a deep sense of responsibility.
                </p>
            </div>
        </div>
        <div>
            <div class="words5" style="width: 30%;position: relative;top: -220vh;left: 15%;">
                <p>
                    As a result, we gradually turn our attention to paper and hope to solve the problem by enhancing the cyclic utilization of paper.
                </p>
            </div>
            <div class="circle" style="position: relative;top: -250vh;left: 50vw;">
                <img id="jiantou1" src="https://static.igem.wiki/teams/5136/homeimg/jiantou1.png" alt="" style="top: 15vh; left: 20vw;">
                <img id="jiantou2" src="https://static.igem.wiki/teams/5136/homeimg/jiantou2.png" alt="" style="top: 15vh; left: -3vw;">
                <img id="jiantou3" src="https://static.igem.wiki/teams/5136/homeimg/jiantou3.png" alt="" style="top: -15vh; left: 5vw;">
                <img id="circle1" src="https://static.igem.wiki/teams/5136/homeimg/circle1.png" alt="" style="top: -5vh; left: 20vw;">
                <img id="circle2" src="https://static.igem.wiki/teams/5136/homeimg/circle2.png" alt="" style="top: 25vh; left: 5vw;">
                <img id="circle3" src="https://static.igem.wiki/teams/5136/homeimg/circle3.png" alt="" style="top: -5vh; left: -5vw;">
            </div>
        </div>
        <div class="words6" style="width: 70%;position: relative;left: 15%;top: -200vh;">
            <p>
                However, the difficulty and low utilization rate of the recycling process of paper are serious obstacle to the sustainable development of forest resources.
            </p>
        </div>
        <div>
            <div class="data">
                <img src="https://static.igem.wiki/teams/5136/homeimg/data-bg.png" alt="" style="height: 60vh;position: relative;top: -190vh;left: 10vw;max-width: 60vw;">
                <div class="title" style="position: relative;max-width: 40vw;top: -245vh;left: 15vw;"> 
                    <p style="font-size: 3vh;">
                        China's waste paper <span style="color: #ff7500;">recycling rate</span> and <span style="color: #bea7c5;">utilization rate</span> from 2014 to 2023
                    </p>
                    <div class="content" style="position: relative;top: 10vh;left: -3vw;">
                        <div id="data-display" class="data-style">
                            <span id="figure1" class="fade"></span> and <span id="figure2" class="fade"></span> in <span id="figure3" class="fade"></span>
                        </div>
                    </div>
                </div>
                <div class="words7" style="position: relative;top: -260vh;width: 30vw;left: 65vw;">
                    <p>
                        Over the past decade, China's waste paper recycling rate has grown volatile, while the utilization rate of waste paper has declined. 
                    </p>
                </div>
            </div>
        </div>
        <div class="words8" style="position: relative;top: -240vh;left: 30vw;width: 60%;">
            <p>
                Therefore, we hope to improve the recycling of waste paper, conserve forest resources and hence alleviate the global climate crisis.
            </p>
        </div>
        <div>
            <div class="words9" style="position: relative;top: -220vh;width: 60vw;left: 5vw;text-align: center;">
                <h2 style="background: #6d5b93;color: white;font-size: 4vh;line-height: 6vh;border-radius: 10px;">
                    According to statistics, producing recycled paper by waste paper greatly benefits the earth.
                </h2>
                <p id="p1">
                    1 ton of waste paper saves 17 <span style="color: green;">trees</span>
                </p>
                <p id="p2">
                    1 ton of waste paper saves 100 tons of <span style="color: blue;">water</span>
                </p>
                <p id="p3">
                    1 ton of waste paper saves 600 kWh of <span style="color: rebeccapurple;">electricity</span>
                </p>
                <p id="p4">
                    1 ton of waste paper saves 11.37 tons of carbon <span style="color: sienna;">dioxide</span>.
                </p>
            </div>
            <div class="tp">
                <img src="https://static.igem.wiki/teams/5136/homeimg/tianping.png" alt="" style="position: relative;top: -270vh;width: 30vw;left: 65vw;">
                <img src="https://static.igem.wiki/teams/5136/homeimg/tp1.png" alt="" style="width: 30vw;position: relative;top: -285vh;left: 35vw;" id="tp-carousel">
            </div>
        </div>
        <div>
            <img src="https://static.igem.wiki/teams/5136/homeimg/factory.png" alt="" style="position: relative;top: -270vh;width: 60vw;left: 5vw;">
            <div class="wordsa" style="position: relative;top: -320vh;width: 30vw;left: 65vw;">
                <p>
                    In the paper industry, the recovery and reuse of waste paper mainly relies on chemical deinking, supplemented by other mechanical treatments currently.
                </p>
            </div>
        </div>
    </div>
</div>

<!-- earth滚动 -->
<script>
// 获取图片元素
const image = document.querySelector('.earth');
const co2 = document.querySelector('.co2');
const o2 = document.querySelector('.o2');
const smoke = document.querySelector('.smoke');
//let hasActivated = false; // 防止动画重复激活
// 监听滚动事件
window.addEventListener('scroll', () => {
    // 获取图片的位置
    const imageRect = image.getBoundingClientRect();
    const windowHeight = window.innerHeight;
    
    // 图片开始进入视窗时的高度，和完全出现在视窗中的高度
    const imageTop = imageRect.top+100;
    const imageBottom = imageRect.bottom;

    // 当图片的顶部出现在视窗内时开始旋转，底部到达视窗底部时旋转结束
    if (imageTop < windowHeight && imageBottom > 0) {
        // 计算图片出现在视窗中的比例 (0 到 1 之间)
        const progress = Math.min(1, Math.max(0, (windowHeight - imageTop)*1.8 / (imageRect.height + windowHeight)));
        
        // 根据滚动进度计算旋转角度，最多旋转 180 度
        const rotation = progress * 180;

        // 应用旋转效果
        image.style.transform = `rotate(${rotation}deg)`;

        if (rotation >= 180 ) {
                // 激活气体动画
                co2.classList.add('active-co2');
                o2.classList.add('active-o2');
                smoke.classList.add('active-smoke');
                //hasActivated = true; // 确保动画只触发一次
            }
        else{
            //hasActivated = false;
            co2.classList.remove('active-co2');
            o2.classList.remove('active-o2');
            smoke.classList.remove('active-smoke');
        }
    }
});
</script>
<!-- 森林摇摆 -->
<script>
// 图片列表
const images = [
    'https://static.igem.wiki/teams/5136/homeimg/forest.png',
    'https://static.igem.wiki/teams/5136/homeimg/forest1.png'
];

let currentIndex = 0; // 当前图片索引
const imgElement = document.getElementById('slideforest');

// 设置定时器，每隔3秒切换一次图片
setInterval(() => {
    // 先执行淡出效果
    imgElement.classList.add('fade-out');

    // 等淡出动画完成后更改图片
    setTimeout(() => {
        currentIndex = (currentIndex + 1) % images.length; // 循环切换图片索引
        imgElement.src = images[currentIndex]; // 更新图片src

        // 图片更改后执行淡入效果
        imgElement.classList.remove('fade-out');
        imgElement.classList.add('fade-in');
    }, 500); // 淡出效果的时间与CSS中`transition`的时间一致
}, 2000); // 每隔4秒切换一次图片，留1秒给淡入淡出效果
</script>
<!-- co2增加 -->
<script>
const container = document.querySelector('.co2container');
const centerImage = document.getElementById('center-image');

// 设置生成图片的数量和每次生成的间隔时间
let numberOfImages = 10; // 总共生成10个图片
let intervalTime = 500; // 每隔500ms生成一个新图片

const startAnimation = () => {
    let count = 0;
const interval = setInterval(() => {
    if (count >= numberOfImages) {
        clearInterval(interval);
        return;
    }

    // 创建新的图片元素
    const newImage = document.createElement('img');
    newImage.src = centerImage.src;
    newImage.style.position = 'absolute';
    newImage.style.height = '5vh';
    newImage.style.top = '50%';
    newImage.style.left = '50%';
    newImage.style.transform = 'translate(-50%, -50%)';
    newImage.style.opacity = '0';

    // 动态生成图片的随机位置偏移
    const randomX = Math.floor(Math.random() * 500 - 400); 
    const randomY = -Math.floor(Math.random() * 200 ); 

    // 使用 CSS 变量传递偏移值
    newImage.style.setProperty('--x', `${randomX}px`);
    newImage.style.setProperty('--y', `${randomY}px`);

    // 添加动画类
    newImage.style.animation = 'expand 1s ease-out forwards';

    // 将新的图片元素添加到容器中
    container.appendChild(newImage);

    count++;
}, intervalTime);
};


 // 使用 Intersection Observer 观察图片容器是否进入视口
 const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                // 当图片容器进入视口时触发动画
                startAnimation();
                // 停止观察，防止动画重复触发
                observer.unobserve(container);
            }
        });
    });

    // 开始观察容器元素
    observer.observe(container);
</script>
<!-- 循环显示 -->
<script>
// 设置每个元素的出现顺序
const images1 = [
document.getElementById('circle1'),
document.getElementById('jiantou1'),
document.getElementById('circle2'),
document.getElementById('jiantou2'),
document.getElementById('circle3'),
document.getElementById('jiantou3')
];

// 定义IntersectionObserver
const observer1 = new IntersectionObserver((entries) => {
entries.forEach(entry => {
    if (entry.isIntersecting) {
        // 依次显示每个图片
        images1.forEach((img, index) => {
            setTimeout(() => {
                img.classList.add('visible');
            }, index * 700);  // 每个图片延迟500ms
        });
        console.log("成功添加visible类！");
        // 停止观察
        observer1.unobserve(entry.target);
    }
});
}, {
threshold: 0.3  // 目标元素进入视口50%时触发
});

// 观察 .circle 元素
observer1.observe(document.querySelector('.circle'));
</script>

<!-- 数据轮播 -->
<script>
// 定义一组数据
const data = [
{ figure1: '75.5%', figure2: '23.6%', figure3: '2014' },
{ figure1: '60.2%', figure2: '35.8%', figure3: '2015' },
{ figure1: '78.9%', figure2: '18.3%', figure3: '2016' },
{ figure1: '82.5%', figure2: '17.4%', figure3: '2017' },
{ figure1: '85.3%', figure2: '14.1%', figure3: '2018' },
{ figure1: '88.9%', figure2: '10.7%', figure3: '2019' },
{ figure1: '90.5%', figure2: '9.2%', figure3: '2020' },
{ figure1: '92.0%', figure2: '7.5%', figure3: '2021' },
{ figure1: '93.2%', figure2: '6.3%', figure3: '2022' },
{ figure1: '94.1%', figure2: '5.8%', figure3: '2023' }
];

// 获取显示数据的容器
const figure1Element = document.getElementById('figure1');
const figure2Element = document.getElementById('figure2');
const figure3Element = document.getElementById('figure3');

// 定义一个函数来显示数据
function displayData(index) {
// 先让三个数字淡出
figure1Element.style.opacity = 0;
figure2Element.style.opacity = 0;
figure3Element.style.opacity = 0;

// 延迟500毫秒，等淡出效果完成后切换数据
setTimeout(() => {
    const currentData = data[index];
    // 更新数据
    figure1Element.textContent = currentData.figure1;
    figure2Element.textContent = currentData.figure2;
    figure3Element.textContent = currentData.figure3;
    
    // 数据更新完成后，淡入显示
    figure1Element.style.opacity = 1;
    figure2Element.style.opacity = 1;
    figure3Element.style.opacity = 1;
}, 500);  // 500ms 的时间与 CSS 过渡时间匹配
}

// 设置初始索引
let currentIndexx = 0;

// 定义一个轮询函数，每隔3秒显示下一组数据
function cycleData() {
// 显示当前数据
displayData(currentIndexx);

// 更新索引
currentIndexx = (currentIndexx + 1) % data.length;  // 确保索引循环
}

// 启动定时器，每隔3秒轮流显示数据
setInterval(cycleData, 3000);

// 初次调用以显示第一组数据
cycleData();

</script>

<!-- 天平图片轮播 -->
<script>
// 定义一个包含图片路径的数组
const imagestp = [
"https://static.igem.wiki/teams/5136/homeimg/tianp1.png",
"https://static.igem.wiki/teams/5136/homeimg/tianp2.png",
"https://static.igem.wiki/teams/5136/homeimg/tianp3.png",
"https://static.igem.wiki/teams/5136/homeimg/tianp4.png"
];

// 获取第二个 img 元素
const carouselImg = document.getElementById('tp-carousel');

// 获取所有 p 标签
const pElements = [
document.getElementById('p1'),
document.getElementById('p2'),
document.getElementById('p3'),
document.getElementById('p4')
];

// 设置当前图片索引
let currentImageIndex = 0;

// 定义一个函数来切换图片
function changeImage() {
// 先让图片淡出
carouselImg.style.opacity = 0;

// 等待 500 毫秒后更新图片，并淡入
setTimeout(() => {
    // 移除所有 p 标签的 active 类
    pElements.forEach(p => p.classList.remove('active'));

    currentImageIndex = (currentImageIndex + 1) % imagestp.length;
    carouselImg.src = imagestp[currentImageIndex];

    // 激活与当前图片对应的 p 标签
    pElements[currentImageIndex].classList.add('active');
    carouselImg.style.opacity = 1;
}, 500); // 与 CSS 中的过渡时间匹配
}


// 启动定时器，每隔3秒切换一次图片
setInterval(changeImage, 3000);

</script>



{% endblock %}
